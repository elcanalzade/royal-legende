<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELCAN CASINO - SUPREME EMPIRE</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&display=swap" rel="stylesheet">
    <style>
        :root { --neon-blue: #00f2ff; --neon-purple: #bc13fe; --gold: #ffd700; --bg: #050505; }
        body { background: var(--bg); color: white; font-family: 'Orbitron', sans-serif; margin: 0; overflow-x: hidden; text-align: center; }
        
        /* Matrix/Dollar YaÄŸÄ±ÅŸÄ± */
        #money-canvas { position: fixed; inset: 0; z-index: -1; pointer-events: none; opacity: 0.6; }

        /* NÉ™hÉ™ng Jackpot */
        #jackpot-container { background: linear-gradient(90deg, #000, #222, #000); padding: 15px; border-bottom: 2px solid var(--gold); margin-bottom: 10px; box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3); }
        #jp-val { font-size: 32px; font-weight: 900; color: var(--gold); text-shadow: 0 0 10px var(--gold); }

        .app-container { max-width: 450px; margin: 0 auto; padding: 15px; border: 3px solid var(--neon-purple); border-radius: 30px; box-shadow: 0 0 25px var(--neon-purple); background: rgba(10, 10, 10, 0.98); }
        
        /* 4 Ã‡arxlÄ± Slot */
        .slot-box { display: flex; gap: 8px; justify-content: center; margin: 15px 0; background: #000; padding: 12px; border-radius: 20px; border: 2px solid var(--neon-blue); }
        .reel { width: 70px; height: 95px; background: #1a1a1a; border: 1px solid #333; font-size: 40px; display: flex; align-items: center; justify-content: center; border-radius: 12px; }

        .btn { width: 100%; padding: 15px; margin: 8px 0; border: none; border-radius: 50px; font-weight: 900; cursor: pointer; text-transform: uppercase; transition: 0.3s; }
        .btn-spin { background: linear-gradient(to bottom, var(--gold), #b8860b); color: #000; font-size: 18px; box-shadow: 0 0 10px var(--gold); }
        
        /* CanlÄ± Lenta (0.5x SÃ¼rÉ™t) */
        .ticker-wrap { position: fixed; bottom: 0; width: 100%; background: rgba(0,0,0,0.9); height: 35px; border-top: 1px solid var(--neon-blue); z-index: 100; overflow: hidden; }
        .ticker { display: inline-block; white-space: nowrap; animation: ticker 120s linear infinite; color: var(--neon-blue); font-size: 13px; line-height: 35px; }
        @keyframes ticker { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* Modallar */
        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 2000; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; display: none; }
        input { width: 85%; padding: 14px; margin: 10px; border-radius: 12px; border: 1px solid var(--neon-blue); background: #000; color: #fff; text-align: center; font-family: 'Orbitron'; }

        /* Admin Panel */
        #admin-panel { overflow-y:auto; text-align: left; background: #080808; border: 4px solid red; }
        .user-card { border: 1px solid #444; padding: 12px; margin: 8px 0; border-radius: 15px; background: #151515; }
        .admin-btns { display: flex; gap: 5px; margin-top: 10px; }
        .adm-btn-add { background: #28a745; color: white; border: none; padding: 8px; border-radius: 5px; flex: 1; cursor: pointer; }
        .adm-btn-del { background: #dc3545; color: white; border: none; padding: 8px; border-radius: 5px; flex: 1; cursor: pointer; }

        /* Fake Notifications (Social Proof) */
        #fake-notify { position: fixed; top: 80px; left: -350px; background: rgba(0, 242, 255, 0.9); color: #000; padding: 12px; border-radius: 0 15px 15px 0; font-weight: bold; transition: 1s; z-index: 3000; font-size: 12px; border-left: 5px solid #fff; }
    </style>
</head>
<body>

<canvas id="money-canvas"></canvas>
<div id="fake-notify"></div>

<div id="jackpot-container">
    <div style="font-size: 12px; color: var(--gold);">GLOBAL JACKPOT</div>
    <div id="jp-val">45,892.45</div>
</div>

<div id="entry-wheel-modal" class="modal" style="display: flex;">
    <h1 style="color:var(--gold); margin-bottom: 0;">GÄ°RÄ°Å BONUSU</h1>
    <p style="font-size: 12px;">GÃ¼ndÉ™lik fÄ±rlatma ÅŸansÄ±n!</p>
    <div id="wheel-visual" style="width:220px; height:220px; border-radius:50%; border:8px solid var(--gold); display:flex; align-items:center; justify-content:center; font-size:50px; margin:20px 0; transition: 4s cubic-bezier(0.1, 0, 0.1, 1); background: radial-gradient(#333, #000);">ğŸ¡</div>
    <button class="btn btn-spin" onclick="spinEntryWheel()">BONUSU GÃ–TÃœR</button>
</div>

<div id="reg-modal" class="modal">
    <h2 style="color:var(--neon-blue)">HESAB YARAT</h2>
    <p style="font-size: 10px; color: var(--gold);">Qeydiyyatdan keÃ§É™n hÉ™r kÉ™sÉ™ 5 AZN Bonus!</p>
    <input type="text" id="reg-name" placeholder="Ad Soyad">
    <input type="tel" id="reg-phone" placeholder="Telefon (mÉ™s: 0501234567)">
    <button class="btn btn-spin" onclick="completeRegistration()">DAXÄ°L OL</button>
</div>

<div id="admin-panel" class="modal">
    <h2 style="color:red; text-align: center;">ğŸš¨ Ä°MPERATOR Ä°DARÆETMÆ ğŸš¨</h2>
    <div id="admin-stats" style="font-size: 12px; color: #aaa; margin-bottom: 10px; padding: 5px;"></div>
    <div id="admin-content" style="width:100%; max-height: 65vh; overflow-y: auto;"></div>
    <button class="btn" style="background:gray" onclick="closeAdmin()">PANELÄ° BAÄLA</button>
</div>

<div class="app-container">
    <div style="display:flex; justify-content:space-between; font-size:12px; color:var(--neon-blue); margin-bottom: 10px;">
        <span>ONLAYN: <span id="online-val">5068</span></span>
        <span style="color: var(--gold);">VIP GHOST MODE</span>
    </div>

    <div style="margin-bottom: 15px;">
        <div style="font-size:14px;">XOÅ GÆLDÄ°N, <span id="u-display" style="color: var(--neon-blue);">...</span></div>
        <div style="font-size:28px; font-weight:900; letter-spacing: 2px;">BALANS: <span id="bal-val">0.00</span> AZN</div>
    </div>

    <div class="slot-box">
        <div id="r1" class="reel">ğŸ’</div>
        <div id="r2" class="reel">ğŸ’</div>
        <div id="r3" class="reel">7ï¸âƒ£</div>
        <div id="r4" class="reel">ğŸ</div>
    </div>

    <button class="btn btn-spin" onclick="spinSlot()">FIRLAT (1 - 500 AZN)</button>

    <div style="font-size: 10px; color: var(--gold); margin: 10px 0; border: 1px dashed var(--gold); padding: 5px;">
        DÆVÆT LÄ°NKÄ°N: <span id="ref-link">elcan-casino.com/?ref=...</span>
    </div>

    <div style="display:flex; gap:8px;">
        <button class="btn" style="background:#ff0050; color:#fff; font-size:11px;" onclick="window.open('https://www.tiktok.com/@elcan.alzade3')">TIKTOK (Ã‡EK AT)</button>
        <button class="btn" style="background:#f3ba2f; color:#000; font-size:11px;" onclick="copyBinance()">BINANCE (KOPYALA)</button>
    </div>
    
    <button class="btn" style="background:#fff; color:#000;" onclick="showWithdraw()">PUL Ã‡IXARIÅI (MÄ°N 30 AZN)</button>

    <div onclick="openAdmin()" style="cursor:pointer; font-size:25px; margin-top:15px; filter: drop-shadow(0 0 5px red);">ğŸš¨</div>
</div>

<div class="ticker-wrap"><div class="ticker" id="win-ticker"></div></div>

<div id="wit-modal" class="modal">
    <h3 style="color: var(--neon-blue);">PUL Ã‡IXARIÅI</h3>
    <p style="font-size: 11px;">MÉ™blÉ™ÄŸ 24 saat É™rzindÉ™ kartÄ±nÄ±za yÃ¼klÉ™nÉ™cÉ™k.</p>
    <input type="number" id="wit-amount" placeholder="MÉ™blÉ™ÄŸ (Min 30 AZN)">
    <input type="text" id="wit-card" placeholder="Kart nÃ¶mrÉ™si (16 rÉ™qÉ™m)">
    <button class="btn btn-spin" onclick="processWithdraw()">TÆSDÄ°QLÆ</button>
    <button class="btn" style="background: #333;" onclick="this.parentElement.style.display='none'">GERÄ°</button>
</div>

<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

<script>
    // Firebase KonfiqurasiyasÄ±
    const firebaseConfig = {
      apiKey: "AIzaSyBKGAVyVRnkTLgcv8c1D3G_HRwA8GwgcmQ",
      authDomain: "royal-legend-pro-574d5.firebaseapp.com",
      databaseURL: "https://royal-legend-pro-574d5-default-rtdb.firebaseio.com",
      projectId: "royal-legend-pro-574d5",
      storageBucket: "royal-legend-pro-574d5.firebasestorage.app",
      messagingSenderId: "696766803882",
      appId: "1:696766803882:web:859289afc952838c58c5d3"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    let user = null;
    const items = ["ğŸ’", "ğŸ‹", "ğŸ", "7ï¸âƒ£", "ğŸ’", "ğŸ‰", "ğŸ””"];

    // GÃ¼ndÉ™lik Bonus Ã‡arxÄ±
    function spinEntryWheel() {
        let w = document.getElementById('wheel-visual');
        w.style.transform = "rotate(3600deg)";
        setTimeout(() => {
            alert("UÄŸurlu fÄ±rlatma! 2 AZN Bonus balansÄ±nÄ±za É™lavÉ™ edildi!");
            document.getElementById('entry-wheel-modal').style.display = 'none';
            document.getElementById('reg-modal').style.display = 'flex';
        }, 4000);
    }

    // Qeydiyyat Sistemi
    function completeRegistration() {
        let name = document.getElementById('reg-name').value;
        let phone = document.getElementById('reg-phone').value;
        if(!name || phone.length < 10) return alert("DÃ¼zgÃ¼n mÉ™lumat daxil edin!");

        db.ref('users/' + phone).once('value', s => {
            if(s.exists()) {
                user = s.val();
            } else {
                user = { name: name, phone: phone, balance: 7.0, spins: 0, regDate: new Date().toLocaleDateString() };
                db.ref('users/' + phone).set(user);
            }
            document.getElementById('reg-modal').style.display = 'none';
            initApp();
        });
    }

    function initApp() {
        document.getElementById('u-display').innerText = user.name;
        document.getElementById('ref-link').innerText = "elcan-casino.com/?ref=" + user.phone.slice(-4);
        updateUI();
        startJackpotEffect();
        startOnlineSync();
        loadWinningTicker();
        setInterval(showSocialProof, 12000);
    }

    function updateUI() {
        document.getElementById('bal-val').innerText = user.balance.toFixed(2);
    }

    // Slot MexanikasÄ± & HiylÉ™li Alqoritm
    function spinSlot() {
        let bet = prompt("MÉ™rc (1-500 AZN):", "10");
        bet = parseFloat(bet);
        if(isNaN(bet) || bet < 1 || bet > 500) return alert("Limit: 1 - 500 AZN");
        if(user.balance < bet) return alert("Balans yetÉ™rli deyil!");

        user.balance -= bet;
        user.spins++;
        updateUI();

        let count = 0;
        let interval = setInterval(() => {
            for(let i=1; i<=4; i++) document.getElementById('r'+i).innerText = items[Math.floor(Math.random()*items.length)];
            count++;
            if(count > 25) {
                clearInterval(interval);
                // Ä°lk 3 fÄ±rlatma 80% uduÅŸ, sonra 20%
                let winChance = user.spins <= 3 ? 0.8 : 0.2;
                if(Math.random() < winChance) {
                    let winSym = items[Math.floor(Math.random()*items.length)];
                    for(let i=1; i<=4; i++) document.getElementById('r'+i).innerText = winSym;
                    user.balance += bet * 5;
                    alert("TÆBRÄ°KLÆR! BÃ–YÃœK UDUÅ! ğŸ‰");
                }
                db.ref('users/' + user.phone).update(user);
                updateUI();
                // Admin Real-vaxt izlÉ™mÉ™ Ã¼Ã§Ã¼n log
                db.ref('activity').push({ name: user.name, bet: bet, result: user.balance });
            }
        }, 80);
    }

    // TÉ™kmillÉ™ÅŸdirilmiÅŸ Admin Panel
    function openAdmin() {
        if(prompt("ADMÄ°N ÅÄ°FRÆSÄ°:") === "1907") {
            document.getElementById('admin-panel').style.display = 'flex';
            syncAdmin();
        }
    }
    function closeAdmin() { document.getElementById('admin-panel').style.display = 'none'; }

    function syncAdmin() {
        db.ref('users').on('value', s => {
            let users = s.val();
            let html = "";
            let totalUsers = 0;
            for(let id in users) {
                totalUsers++;
                html += `
                <div class="user-card">
                    <b>${users[id].name}</b> (${id}) <br>
                    Balans: <span style="color:var(--neon-blue)">${users[id].balance.toFixed(2)} AZN</span>
                    <div class="admin-btns">
                        <button class="adm-btn-add" onclick="modifyUser('${id}', 50)">+50 AZN</button>
                        <button class="adm-btn-add" onclick="modifyUser('${id}', 500)">+500 AZN</button>
                        <button class="adm-btn-del" onclick="deleteUser('${id}')">Ä°STÄ°FADÆÃ‡Ä°NÄ° SÄ°L</button>
                    </div>
                </div>`;
            }
            document.getElementById('admin-content').innerHTML = html;
            document.getElementById('admin-stats').innerText = "CÉ™mi Ä°stifadÉ™Ã§i: " + totalUsers;
        });
        
        // Ã‡Ä±xarÄ±ÅŸ tÉ™lÉ™blÉ™rini dÉ™ bura É™lavÉ™ edirik
        db.ref('withdrawals').on('value', s => {
            let wits = s.val();
            if(wits) {
                let h = "<h3 style='color:orange'>Ã‡IXARIÅ TÆLÆBLÆRÄ°</h3>";
                for(let k in wits) {
                    h += `<div class="user-card" style="border-color:orange">
                        ${wits[k].name} (${wits[k].phone}) <br>
                        MÉ™blÉ™ÄŸ: ${wits[k].amount} AZN <br> Kart: ${wits[k].card}
                        <button class="adm-btn-del" onclick="db.ref('withdrawals/${k}').remove()">TAMAMLANDI OLARAQ SÄ°L</button>
                    </div>`;
                }
                document.getElementById('admin-content').innerHTML += h;
            }
        });
    }

    function modifyUser(id, amt) { db.ref('users/'+id+'/balance').transaction(b => b + amt); }
    function deleteUser(id) { if(confirm("Bu istifadÉ™Ã§ini tamamilÉ™ silmÉ™k istÉ™yirsiz?")) db.ref('users/'+id).remove(); }

    // Ã–dÉ™niÅŸ vÉ™ Ã‡Ä±xarÄ±ÅŸ
    function copyBinance() {
        navigator.clipboard.writeText("TJQbpsPqD9up2iwHUCLZHDxs1g67uq3mrQ");
        alert("Binance TRC20 ÃœnvanÄ± KopyalandÄ±!");
    }

    function showWithdraw() { document.getElementById('wit-modal').style.display = 'flex'; }
    function processWithdraw() {
        let a = document.getElementById('wit-amount').value;
        let c = document.getElementById('wit-card').value;
        if(a < 30 || c.length < 16) return alert("Minimum 30 AZN vÉ™ dÃ¼zgÃ¼n kart yazÄ±n!");
        
        db.ref('withdrawals').push({ name: user.name, phone: user.phone, amount: a, card: c });
        alert("SorÄŸunuz qÉ™bul edildi! 24 saat É™rzindÉ™ admin tÉ™rÉ™findÉ™n tÉ™sdiqlÉ™nÉ™cÉ™k.");
        document.getElementById('wit-modal').style.display = 'none';
    }

    // Vizual EffektlÉ™r
    function startJackpotEffect() {
        setInterval(() => {
            let current = parseFloat(document.getElementById('jp-val').innerText);
            document.getElementById('jp-val').innerText = (current + (Math.random() * 0.1)).toFixed(2);
        }, 1500);
    }

    function startOnlineSync() {
        setInterval(() => {
            document.getElementById('online-val').innerText = 5000 + Math.floor(Math.random() * 200);
        }, 3500);
    }

    function loadWinningTicker() {
        let content = "";
        for(let i=0; i<40; i++) {
            content += ` â€¢ Ä°stifadÉ™Ã§i 05${Math.floor(Math.random()*9)}***${Math.floor(Math.random()*99)} uddu: ${Math.floor(Math.random()*1200)} AZN | `;
        }
        document.getElementById('win-ticker').innerText = content;
    }

    function showSocialProof() {
        let n = document.getElementById('fake-notify');
        let names = ["Elvin", "Anar", "Rauf", "Aysel", "Samir", "Leyla", "VÃ¼qar"];
        n.innerText = names[Math.floor(Math.random()*names.length)] + " indicÉ™ " + (Math.floor(Math.random()*450)+50) + " AZN uddu!";
        n.style.left = "0px";
        setTimeout(() => n.style.left = "-350px", 4000);
    }

    // Pul YaÄŸÄ±ÅŸÄ± AnimasiyasÄ±
    const canvas = document.getElementById('money-canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    let coins = [];
    function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.fillStyle = "gold"; ctx.font = "14px Arial";
        if(coins.length < 50) coins.push({x:Math.random()*canvas.width, y:-20, s:Math.random()*2+1});
        coins.forEach((c,i) => { ctx.fillText("$", c.x, c.y); c.y += c.s; if(c.y > canvas.height) coins.splice(i,1); });
        requestAnimationFrame(draw);
    }
    draw();
</script>

</body>
</html>
