
<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELCAN CASINO - SUPREME COMMANDER</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&display=swap" rel="stylesheet">
    <style>
        :root { --neon-blue: #00f2ff; --neon-purple: #bc13fe; --gold: #ffd700; --bg: #050505; }
        body { background: var(--bg); color: white; font-family: 'Orbitron', sans-serif; margin: 0; overflow-x: hidden; }
        
        /* Pul YaÄŸÄ±ÅŸÄ± Fonu */
        #money-canvas { position: fixed; inset: 0; z-index: -1; pointer-events: none; opacity: 0.5; }

        /* Neon Dizayn */
        .app-container { max-width: 400px; margin: 0 auto; padding: 20px; border: 3px solid var(--neon-purple); border-radius: 30px; box-shadow: 0 0 20px var(--neon-purple); background: rgba(10, 10, 10, 0.9); text-align: center; margin-top: 10px; }
        
        /* 4 Ã‡arxlÄ± Slot */
        .slot-box { display: flex; gap: 8px; justify-content: center; margin: 20px 0; background: #000; padding: 15px; border-radius: 20px; border: 2px solid var(--neon-blue); }
        .reel { width: 65px; height: 90px; background: #1a1a1a; border: 1px solid #333; font-size: 40px; display: flex; align-items: center; justify-content: center; border-radius: 10px; transition: transform 0.1s; }

        /* DÃ¼ymÉ™lÉ™r */
        .btn { width: 100%; padding: 15px; margin: 10px 0; border: none; border-radius: 50px; font-weight: 900; cursor: pointer; text-transform: uppercase; transition: 0.3s; }
        .btn-spin { background: linear-gradient(to bottom, var(--gold), #b8860b); color: #000; }
        .btn-tiktok { background: #000; color: #fff; border: 1px solid #ff0050; font-size: 12px; }
        .btn-binance { background: #f3ba2f; color: #000; font-size: 12px; }

        /* Admin vÉ™ Modallar */
        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        input { width: 80%; padding: 12px; margin: 10px; border-radius: 10px; border: 1px solid var(--neon-blue); background: #000; color: #fff; }

        /* CanlÄ± Lenta (0.5x SÃ¼rÉ™t) */
        .ticker-wrap { position: fixed; bottom: 0; width: 100%; background: rgba(0,0,0,0.8); overflow: hidden; height: 30px; }
        .ticker { display: inline-block; white-space: nowrap; animation: ticker 60s linear infinite; color: var(--neon-blue); font-size: 12px; line-height: 30px; }
        @keyframes ticker { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* Jackpot */
        .jackpot { font-size: 22px; color: var(--gold); text-shadow: 0 0 10px var(--gold); margin-bottom: 10px; }
    </style>
</head>
<body>

<canvas id="money-canvas"></canvas>

<div id="reg-modal" class="modal">
    <h2 style="color:var(--neon-blue)">ROYAL GÄ°RÄ°Å</h2>
    <input type="text" id="u-name" placeholder="Ad Soyad">
    <input type="tel" id="u-phone" placeholder="NÃ¶mrÉ™ (MÉ™s: 0501234567)">
    <button class="btn btn-spin" onclick="startApp()">BAÅLA (+5 AZN BONUS)</button>
</div>

<div id="admin-panel" class="modal" style="display:none; overflow-y:auto; padding-top:50px;">
    <h2 style="color:red">ADMÄ°N Ä°DARÆETMÆ</h2>
    <div id="user-list" style="width:90%"></div>
    <button class="btn" style="background:gray" onclick="toggleAdmin()">PANELÄ° BAÄLA</button>
</div>

<div class="app-container">
    <div class="jackpot">JACKPOT: <span id="jp-val">45,892.45</span> AZN</div>
    <div style="font-size:12px; color:#aaa;">ONLAYN: 40 NÆFÆR</div>
    
    <div style="color:var(--neon-blue); margin:10px 0;">BALANS: <span id="bal-val">0.00</span> AZN</div>

    <div class="slot-box">
        <div id="r1" class="reel">ğŸ’</div>
        <div id="r2" class="reel">ğŸ‹</div>
        <div id="r3" class="reel">ğŸ</div>
        <div id="r4" class="reel">7ï¸âƒ£</div>
    </div>

    <button class="btn btn-spin" onclick="spin()">FIRLAT (1 - 500 AZN)</button>
    
    <div style="border-top:1px solid #333; margin:20px 0; padding-top:10px;">
        <h3 style="color:var(--neon-purple); font-size:14px;">Ã–DÆNÄ°Å SÄ°STEMÄ°</h3>
        <button class="btn btn-tiktok" onclick="openTiktok()">TIKTOK: elcan.alzade3 (Ã‡EK AT)</button>
        <button class="btn btn-binance" onclick="openBinance()">BINANCE Ã–DÆNÄ°Å (YÃ–NLÆNDÄ°R)</button>
        <button class="btn" style="background:#fff; color:#000;" onclick="withdraw()">PUL Ã‡IXAR (MÄ°N: 30 AZN)</button>
    </div>
</div>

<div class="ticker-wrap"><div class="ticker" id="win-ticker"></div></div>

<audio id="spin-sound" src="https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3"></audio>
<audio id="win-sound" src="https://www.soundjay.com/misc/sounds/magic-chime-01.mp3"></audio>

<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

<script>
    // SÉ™nin Firebase Beyin Kodun
    const firebaseConfig = {
      apiKey: "AIzaSyBKGAVyVRnkTLgcv8c1D3G_HRwA8GwgcmQ",
      authDomain: "royal-legend-pro-574d5.firebaseapp.com",
      databaseURL: "https://royal-legend-pro-574d5-default-rtdb.firebaseio.com",
      projectId: "royal-legend-pro-574d5",
      storageBucket: "royal-legend-pro-574d5.firebasestorage.app",
      messagingSenderId: "696766803882",
      appId: "1:696766803882:web:859289afc952838c58c5d3"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    let user = null;
    let items = ["ğŸ’", "ğŸ‹", "ğŸ", "7ï¸âƒ£", "ğŸ’", "ğŸ‡"];

    function startApp() {
        let name = document.getElementById('u-name').value;
        let phone = document.getElementById('u-phone').value;
        if(!name || !phone) return alert("MÉ™lumatlarÄ± doldurun!");

        db.ref('users/' + phone).once('value', s => {
            if(s.exists()) {
                user = s.val();
            } else {
                user = { name: name, phone: phone, balance: 5.0, spins: 0 };
                db.ref('users/' + phone).set(user);
            }
            document.getElementById('reg-modal').style.display = 'none';
            syncUI();
            initTicker();
            startJP();
        });
    }

    function syncUI() {
        document.getElementById('bal-val').innerText = user.balance.toFixed(2);
    }

    // 4 Ã‡arxlÄ± Spin
    function spin() {
        let bet = prompt("MÉ™rc mÉ™blÉ™ÄŸi (1 - 500 AZN):", "10");
        bet = parseFloat(bet);
        if(isNaN(bet) || bet < 1 || bet > 500) return alert("DÃ¼zgÃ¼n mÉ™rc yazÄ±n!");
        if(user.balance < bet) return alert("Balans yetÉ™rli deyil!");

        user.balance -= bet;
        user.spins++;
        syncUI();
        document.getElementById('spin-sound').play();

        let count = 0;
        let interval = setInterval(() => {
            for(let i=1; i<=4; i++) {
                document.getElementById('r'+i).innerText = items[Math.floor(Math.random()*items.length)];
            }
            count++;
            if(count > 20) {
                clearInterval(interval);
                processResult(bet);
            }
        }, 100);
    }

    function processResult(bet) {
        // Ä°darÉ™ olunan ÅŸans: Ä°lk 3 spin 80%, sonra 20%
        let winChance = user.spins <= 3 ? 0.8 : 0.2;
        if(Math.random() < winChance) {
            let winSym = items[Math.floor(Math.random()*items.length)];
            for(let i=1; i<=4; i++) document.getElementById('r'+i).innerText = winSym;
            let prize = bet * 5;
            user.balance += prize;
            document.getElementById('win-sound').play();
            alert("TÆBRÄ°KLÆR! QAZANC: " + prize + " AZN");
        }
        db.ref('users/' + user.phone).update(user);
        syncUI();
    }

    // Admin Paneli (GÃ¶rÃ¼nÉ™n funksiya)
    function toggleAdmin() {
        let p = prompt("Admin ÅifrÉ™si:");
        if(p === "1907") {
            let modal = document.getElementById('admin-panel');
            modal.style.display = modal.style.display === 'none' ? 'flex' : 'none';
            loadUsers();
        }
    }

    function loadUsers() {
        db.ref('users').on('value', s => {
            let data = s.val();
            let html = "";
            for(let id in data) {
                html += `<div style="border:1px solid var(--neon-blue); padding:10px; margin:5px;">
                    ${data[id].name} (${id}) <br> Balans: ${data[id].balance} AZN
                    <button onclick="addCash('${id}')">PUL ARTIR</button>
                    <button onclick="delUser('${id}')" style="color:red">SÄ°L</button>
                </div>`;
            }
            document.getElementById('user-list').innerHTML = html;
        });
    }

    function addCash(id) {
        let amt = parseFloat(prompt("ArtÄ±rÄ±lacaq mÉ™blÉ™ÄŸ:"));
        if(!isNaN(amt)) db.ref('users/'+id+'/balance').transaction(b => b + amt);
    }

    function delUser(id) { if(confirm("Silinsin?")) db.ref('users/'+id).remove(); }

    // MaliyyÉ™
    function openTiktok() { window.open("https://www.tiktok.com/@elcan.alzade3"); }
    function openBinance() { window.open("https://www.binance.com/az/pay?id=SÆNÄ°N_ID_BURAYA"); }

    function withdraw() {
        if(user.balance < 30) return alert("Minimum Ã§Ä±xarÄ±ÅŸ 30 AZN-dir!");
        let card = prompt("Kart nÃ¶mrÉ™nizi yazÄ±n:");
        if(card) {
            db.ref('withdraws').push({name: user.name, phone: user.phone, card: card, amount: user.balance});
            alert("SorÄŸu qÉ™bul edildi. 24 saat É™rzindÉ™ yÃ¼klÉ™nÉ™cÉ™k.");
        }
    }

    // Psixoloji elementlÉ™r
    function initTicker() {
        let txt = "";
        for(let i=0; i<40; i++) {
            txt += `Ä°stifadÉ™Ã§i 050***${Math.floor(10+Math.random()*90)} uddu: ${Math.floor(50+Math.random()*1000)} AZN | `;
        }
        document.getElementById('win-ticker').innerText = txt;
    }

    function startJP() {
        setInterval(() => {
            let jp = parseFloat(document.getElementById('jp-val').innerText.replace(',',''));
            document.getElementById('jp-val').innerText = (jp + 0.01).toFixed(2);
        }, 1000);
    }

    // Pul YaÄŸÄ±ÅŸÄ± AnimasiyasÄ±
    const canvas = document.getElementById('money-canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    let coins = [];
    function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.fillStyle = "gold";
        if(coins.length < 30) coins.push({x:Math.random()*canvas.width, y:0, s:Math.random()*2+1});
        coins.forEach((c,i) => {
            ctx.fillText("$", c.x, c.y);
            c.y += c.s;
            if(c.y > canvas.height) coins.splice(i,1);
        });
        requestAnimationFrame(draw);
    }
    draw();
</script>

<button onclick="toggleAdmin()" style="position:fixed; top:10px; right:10px; opacity:0.3; background:none; border:none; color:#fff;">âš™ï¸</button>

</body>
</html>
