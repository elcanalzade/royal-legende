<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROYAL LEGEND - SUPREME EDITION</title>
    <link href="https://fonts.googleapis.com/css2?family=Goldman:wght@400;700&family=Orbitron:wght@400;900&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #ffd700; --neon-blue: #00f2ff; --bg: #050505; --win: #00ff44; --purple: #bc13fe; }
        body { background: var(--bg); color: white; font-family: 'Orbitron', sans-serif; margin: 0; overflow-x: hidden; text-align: center; }
        
        /* Pul Yaƒüƒ±≈üƒ± Fonu */
        #money-canvas { position: fixed; inset: 0; z-index: -1; pointer-events: none; opacity: 0.6; }

        /* Neon Dizayn */
        .casino-container { border: 4px solid var(--purple); border-radius: 40px; width: 350px; margin: 20px auto; background: rgba(17, 17, 17, 0.9); box-shadow: 0 0 30px var(--purple); padding: 20px; }
        
        /* Slot √áarxlarƒ± (5 √áarxlƒ±) */
        .slot-frame { display: flex; gap: 5px; justify-content: center; background: #000; padding: 10px; border-radius: 15px; border: 2px solid var(--gold); }
        .reel { width: 60px; height: 80px; background: #222; border: 1px solid #444; font-size: 35px; display: flex; align-items: center; justify-content: center; border-radius: 8px; }

        /* Roletka Mini */
        .roulette-mini { margin-top: 20px; border-top: 2px dashed #444; padding-top: 15px; }

        /* D√ºym…ôl…ôr */
        .btn-main { background: linear-gradient(180deg, var(--gold), #b8860b); color: #000; border: none; padding: 12px 30px; border-radius: 25px; font-weight: 900; cursor: pointer; text-transform: uppercase; margin-top: 10px; width: 80%; }
        .btn-admin-trigger { position: fixed; bottom: 10px; right: 10px; opacity: 0.1; background: transparent; color: white; border: none; }

        /* Qeydiyyat v…ô Modallar */
        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 10000; display: flex; align-items: center; justify-content: center; }
        .modal-content { background: #111; border: 3px solid var(--gold); padding: 30px; border-radius: 25px; width: 80%; }
        input { background: #000; border: 1px solid var(--gold); color: #fff; padding: 12px; border-radius: 10px; width: 90%; margin-bottom: 10px; }

        /* Canlƒ± Bildiri≈ül…ôr */
        #live-win-ticker { position: fixed; bottom: 0; width: 100%; background: rgba(0,0,0,0.8); padding: 5px; font-size: 12px; color: var(--win); white-space: nowrap; overflow: hidden; }
        .ticker-text { display: inline-block; animation: scrollText 40s linear infinite; }
        @keyframes scrollText { from { transform: translateX(100%); } to { transform: translateX(-100%); } }
    </style>
</head>
<body>

<canvas id="money-canvas"></canvas>

<div id="auth-screen" class="modal">
    <div class="modal-content">
        <h2 style="color:var(--gold)">ROYAL CASINO</h2>
        <input type="text" id="reg-name" placeholder="Ad Soyad">
        <input type="tel" id="reg-phone" placeholder="Telefon N√∂mr…ôsi">
        <button class="btn-main" onclick="register()">Gƒ∞Rƒ∞≈û ET</button>
    </div>
</div>

<div id="admin-modal" class="modal" style="display:none">
    <div class="modal-content" style="max-height: 80vh; overflow-y: auto;">
        <h2 style="color:red">ADMƒ∞N PANEL</h2>
        <div id="admin-stats"></div>
        <div id="user-list"></div>
        <button class="btn-main" onclick="closeAdmin()">PANELD∆èN √áIX</button>
    </div>
</div>

<div class="casino-container">
    <div id="jackpot-area" style="color:var(--gold); font-size: 20px;">JACKPOT: <span id="jackpot-val">45,892.45</span> AZN</div>
    <p>BALANS: <span id="u-bal" style="color:var(--neon-blue)">0.00</span> AZN</p>
    <p style="font-size:10px">ONLAYN: <span id="online-count">1,452</span> N∆èF∆èR</p>

    <div class="slot-frame">
        <div id="s1" class="reel">üçí</div>
        <div id="s2" class="reel">üçã</div>
        <div id="s3" class="reel">üíé</div>
        <div id="s4" class="reel">üçè</div>
        <div id="s5" class="reel">7Ô∏è‚É£</div>
    </div>
    <button class="btn-main" onclick="spinSlot()">FIRLAT (10 AZN)</button>

    <div class="roulette-mini">
        <h4 style="color:var(--purple)">Mƒ∞Nƒ∞ ROLETKA</h4>
        <div style="display:flex; justify-content:center; gap:10px;">
            <button onclick="betRoulette('red')" style="background:red; color:white; border-radius:5px; border:none; padding:10px;">QIRMIZI</button>
            <button onclick="betRoulette('black')" style="background:black; color:white; border-radius:5px; border:none; padding:10px;">QARA</button>
        </div>
    </div>

    <div style="margin-top:20px;">
        <button onclick="requestDeposit()" style="background:#00ff44; color:black; font-size:12px; padding:5px; border-radius:10px;">PUL Y√úKL∆è (TIKTOK/BINANCE)</button>
        <button onclick="requestWithdraw()" style="background:white; color:black; font-size:12px; padding:5px; border-radius:10px;">PUL √áIXAR</button>
    </div>
</div>

<div id="live-win-ticker"><div class="ticker-text" id="ticker-content"></div></div>

<button class="btn-admin-trigger" onclick="openAdminPrompt()">.</button>

<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

<script>
    // Fƒ∞REBASE BEYƒ∞N KODU (S…ônin g√∂nd…ôrdiyin)
    const firebaseConfig = {
      apiKey: "AIzaSyBKGAVyVRnkTLgcv8c1D3G_HRwA8GwgcmQ",
      authDomain: "royal-legend-pro-574d5.firebaseapp.com",
      databaseURL: "https://royal-legend-pro-574d5-default-rtdb.firebaseio.com",
      projectId: "royal-legend-pro-574d5",
      storageBucket: "royal-legend-pro-574d5.firebasestorage.app",
      messagingSenderId: "696766803882",
      appId: "1:696766803882:web:859289afc952838c58c5d3"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    let currentUser = null;
    let jackpot = 45892.45;
    const items = ["üçí", "üçã", "üíé", "üçè", "7Ô∏è‚É£", "üçá", "üçâ"];

    // Gƒ∞Rƒ∞≈û V∆è QEYDƒ∞YYAT
    function register() {
        let name = document.getElementById('reg-name').value;
        let phone = document.getElementById('reg-phone').value;
        if(!name || !phone) return alert("M…ôlumatlarƒ± yazƒ±n!");
        
        currentUser = { name: name, phone: phone, balance: 5.0, status: "B√ºr√ºnc", lastSeen: new Date().toLocaleString() };
        db.ref('users/' + phone).once('value', (s) => {
            if(s.exists()) {
                currentUser = s.val();
            } else {
                db.ref('users/' + phone).set(currentUser);
            }
            document.getElementById('auth-screen').style.display = 'none';
            updateUI();
            startJackpot();
            loadTicker();
        });
    }

    function updateUI() {
        document.getElementById('u-bal').innerText = currentUser.balance.toFixed(2);
    }

    // SLOT MEXANƒ∞KASI
    function spinSlot() {
        if(currentUser.balance < 10) return alert("Balans azdƒ±r! Pul y√ºkl…ôyin.");
        currentUser.balance -= 10;
        updateUI();

        let count = 0;
        let timer = setInterval(() => {
            for(let i=1; i<=5; i++) document.getElementById('s'+i).innerText = items[Math.floor(Math.random()*items.length)];
            count++;
            if(count > 15) {
                clearInterval(timer);
                checkSlotWin();
            }
        }, 100);
    }

    function checkSlotWin() {
        // ƒ∞dar…ô olunan ≈ûans Sistemi (Admin faizi bura t…ôsir edir)
        let chance = Math.random();
        if(chance < 0.1) { // 10% udu≈ü
            let winItem = items[0];
            for(let i=1; i<=5; i++) document.getElementById('s'+i).innerText = winItem;
            currentUser.balance += 100;
            alert("TEBRƒ∞KLER! 100 AZN QAZANDIN! üéâ");
        }
        db.ref('users/' + currentUser.phone).update({balance: currentUser.balance});
        updateUI();
    }

    // ADMƒ∞N PANELƒ∞ (Gƒ∞ZLƒ∞ KODUN: 1907)
    function openAdminPrompt() {
        let pass = prompt("ADMƒ∞N KODU:");
        if(pass === "1907") {
            document.getElementById('admin-modal').style.display = 'flex';
            renderAdmin();
        }
    }

    function renderAdmin() {
        db.ref('users').on('value', (s) => {
            let users = s.val();
            let html = "<h4>M√º≈üt…ôri Siyahƒ±sƒ±:</h4>";
            for(let p in users) {
                html += `<div style="border-bottom:1px solid #444; padding:5px;">
                    ${users[p].name} (${p}) - <b>${users[p].balance} AZN</b><br>
                    <button onclick="adjustBal('${p}', 50)">+50</button>
                    <button onclick="adjustBal('${p}', -50)">-50</button>
                    <button onclick="deleteUser('${p}')" style="color:red">Sƒ∞L</button>
                </div>`;
            }
            document.getElementById('user-list').innerHTML = html;
        });
    }

    function adjustBal(phone, amt) {
        db.ref('users/' + phone).once('value', s => {
            let newBal = (s.val().balance || 0) + amt;
            db.ref('users/' + phone).update({balance: newBal});
        });
    }

    function deleteUser(phone) {
        if(confirm("Bu adamƒ± sil…ôk?")) db.ref('users/' + phone).remove();
    }

    function closeAdmin() { document.getElementById('admin-modal').style.display = 'none'; }

    // PSƒ∞XOLOJƒ∞ ELEMENTL∆èR
    function startJackpot() {
        setInterval(() => {
            jackpot += 0.05;
            document.getElementById('jackpot-val').innerText = jackpot.toFixed(2);
        }, 2000);
    }

    function loadTicker() {
        let content = "";
        for(let i=0; i<40; i++) {
            let n = "050***" + Math.floor(10+Math.random()*89);
            let m = Math.floor(Math.random()*1000);
            content += ` ‚Ä¢ ƒ∞stifad…ô√ßi ${n} uddu: ${m} AZN | `;
        }
        document.getElementById('ticker-content').innerText = content;
    }

    // √ñD∆èNƒ∞≈û ƒ∞ST∆èKL∆èRƒ∞
    function requestDeposit() {
        alert("TikTok: @seyfen - √áek atƒ±n!\nBinance: binance_id_buraya\nPulu vuran kimi seyf…ôl…ôrim…ô ke√ßid ed…ôc…ôksiniz.");
        window.open("https://www.tiktok.com"); // TikTok-a y√∂nl…ôndirm…ô
    }

    function requestWithdraw() {
        let card = prompt("Kart n√∂mr…ôsini v…ô m…ôbl…ôƒüi yazƒ±n:");
        if(card) {
            db.ref('withdraws').push({phone: currentUser.phone, msg: card, time: new Date().toLocaleString()});
            alert("Sorƒüu admin…ô g√∂nd…ôrildi!");
        }
    }

    // PUL YAƒûI≈ûI KODU
    const canvas = document.getElementById('money-canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    let particles = [];
    function createMoney() {
        if(particles.length < 50) particles.push({x: Math.random()*canvas.width, y: -20, s: Math.random()*3+2});
    }
    function draw() {
        ctx.clearRect(0,0,canvas.width, canvas.height);
        ctx.fillStyle = "gold";
        particles.forEach((p, i) => {
            ctx.fillText("$", p.x, p.y);
            p.y += p.s;
            if(p.y > canvas.height) particles.splice(i, 1);
        });
        createMoney();
        requestAnimationFrame(draw);
    }
    draw();

</script>
</body>
</html>
